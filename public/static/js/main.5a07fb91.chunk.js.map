{"version":3,"sources":["config/urls.js","config/config.js","utils/utils.js","utils/useHttp.js","components/_partials/Alert.jsx","config/session.js","pages/Login.jsx","components/home/CardAnimals.jsx","components/home/Nav.jsx","components/_partials/hoc/WithLoader.jsx","pages/Home.jsx","pages/Admin.jsx","components/animals/FrmAnimal.jsx","components/_partials/BackBtn.jsx","components/animals/CreateAnimal.jsx","components/animals/_partials/HeadTable.jsx","components/_partials/dialogs/DlgConfirm.jsx","components/animals/_partials/ItemAnimal.jsx","utils/useGet.js","config/routes.js","components/animals/ListAnimal.jsx","components/animals/EditAnimal.jsx","utils/auth/Protected.jsx","utils/auth/interceptors.js","App.jsx","reportWebVitals.js","index.js"],"names":["HOME","LOGIN_REDIRECT","ANIMAL_EDIT","ANIMAL_ADD","ANIMAL_LIST","toName","route","params","keys","Object","i","length","replace","api","asset","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","success","info","warning","error","status","danger","processErrors","err","response","data","msg","errors","message","useHttp","method","formData","useState","loader","setLoader","request","url","Promise","resolve","reject","options","baseURL","config","headers","axios","then","res","catch","Alert","type","children","show","className","toLowerCase","Info","style","marginRight","defaultProps","token","localStorage","setItem","getItem","removeItem","undefined","Login","history","setUser","username","password","setData","login","user","setErr","onChange","e","target","value","name","useEffect","userService","push","Container","component","maxWidth","CssBaseline","Paper","Typography","variant","Avatar","src","sizes","onSubmit","preventDefault","access_token","toast","finally","TextField","margin","required","fullWidth","label","id","autoComplete","autoFocus","LinearProgress","color","Button","disabled","CardAnimal","animal","Card","CardHeader","avatar","aria-label","toString","slice","title","subheader","science_name","CardMedia","height","image","img","CardContent","description","Nav","onSearch","search","setSearch","openSearch","document","getElementById","classList","toggle","focus","to","alt","onSubmitSearch","placeholder","trim","Search","onClick","Close","SupervisedUserCircle","WithLoader","text","elevation","CircularProgress","Home","animals","setAnimals","limit","page","count","filters","setFilters","Axios","get","ok","forEach","el","concat","total","getAnimals","q","query","Grid","container","spacing","map","a","item","xs","md","lg","setTimeout","window","scrollTo","body","scrollHeight","withRouter","React","anchorEl","setAnchorEl","IconButton","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","NavLink","exact","FrmAnimal","initialData","http","photo","validate","onChangeFile","files","localImg","showImage","URL","createObjectURL","file","FormData","append","changeImg","sm","toUpperCase","inputProps","maxLength","multiline","rows","justifyContent","display","flexDirection","padding","Photo","accept","BackBtn","useHistory","goBack","ArrowBack","CreateAnimal","Divider","HeadTable","Link","Add","InputProps","endAdornment","InputAdornment","position","DlgConfirm","onConfirm","desc","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","ItemAnimal","onDelete","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","edge","Delete","Edit","Tooltip","href","size","useGet","setError","console","log","routes","path","private","remove","selectAnimal","setSelectAnimal","confirm","setConfirm","setPage","searchText","List","animalId","Pagination","Math","ceil","shape","val","index","findIndex","d","splice","match","Protected","Component","rest","defaults","interceptors","use","location","Authorization","App","closeButton","hideProgressBar","ThemeProvider","routeDef","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.5a07fb91.chunk.js","sourcesContent":["export const HOME = '/';\r\nexport const LOGIN = '/login';\r\nexport const LOGIN_REDIRECT = '/zoo';\r\nexport const NOT_CONNECTED = '/not_connected';\r\n\r\n\r\n// ZOO ANIMAL\r\nexport const ANIMAL_EDIT = '/zoo/:id/edit';\r\nexport const ANIMAL_ADD = '/zoo/add';\r\nexport const ANIMAL_LIST = '/zoo';\r\n\r\n\r\nexport const toName = (route, params) => {\r\n    const keys = Object.keys(params);\r\n    for(let i = 0; i<keys.length; i++) {\r\n        route = route.replace(`:${keys[i]}`, params[keys[i]]);\r\n    }\r\n    return route;\r\n};\r\n\r\n","import {createMuiTheme} from \"@material-ui/core\"\r\n\r\n// configs server\r\nconst ip = '192.168.1.60';\r\n\r\n//* Functions\r\n\r\n// get Url for deploy or dev\r\nconst getUrl = () => {\r\n    if (process.env.NODE_ENV === 'production') {\r\n        return '';\r\n    } else {\r\n        return `http://${ip}:80`;\r\n    }\r\n}\r\n\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n    api: `${getUrl()}/api`,\r\n}\r\n\r\nexport const asset = (asset) => {\r\n    return `${getUrl()}/api/image/${asset}`;\r\n};\r\n\r\nexport const theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            light: '#a2cf6e',\r\n            main: '#8bc34a',\r\n            dark: '#618833',\r\n            contrastText: '#fff',\r\n        },\r\n        secondary: {\r\n            light: '#ffa733',\r\n            main: '#ff9100',\r\n            dark: '#b26500',\r\n            contrastText: '#fff',\r\n        },\r\n        success: {\r\n            main : \"#bac778\",\r\n        },\r\n        info: {\r\n            main : \"#75c7b9\",\r\n        },\r\n        warning: {\r\n            main : \"#c7925d\",\r\n        },\r\n\r\n        error: {\r\n            main : \"#e36570\",\r\n        },\r\n    },\r\n    status: {\r\n        danger: 'orange',\r\n    },\r\n});\r\n","import moment from \"moment\";\r\nexport const processErrors = (err) => {\r\n    if(err.response && err.response.data){\r\n        let msg = '';\r\n        let response = err.response.data;\r\n\r\n        if (response.errors) {\r\n            for (let i = 0; i<response.errors.length; i++){\r\n                msg +=(response.errors[i][0])+',';\r\n            }\r\n            msg+='**';\r\n            msg = msg.replace(',**', '');\r\n        }\r\n\r\n        else if(response.message) {\r\n            msg = response.message;\r\n        }\r\n\r\n        else if(response.error) {\r\n            msg = response.error;\r\n        }\r\n\r\n        else {\r\n            msg = 'Error desconocido, contacte a soporte';\r\n        }\r\n        return(msg);\r\n    }\r\n    else if(err.message) {\r\n        return(err.message);\r\n    }\r\n    else return 'Upps! el servidor no ha respondido como se esperaba, contacte a soporte!';\r\n};\r\n\r\nexport const toDate = (date) => {\r\n    if (!date) return '--/--/----';\r\n    return moment(date).format('DD/MMMM/Y')\r\n};\r\n\r\nexport const toDateHour = (date) => {\r\n    if (!date) return '--/--/----';\r\n    return moment(date).format('DD/MMMM/Y - H:mm')\r\n};\r\n","import {useState} from 'react';\r\nimport axios from \"axios\";\r\nimport config from \"../config/config\";\r\nimport {processErrors} from \"./utils\";\r\nconst useHttp = (method='post', formData=false) => {\r\n\r\n    const [loader, setLoader] = useState(false);\r\n\r\n\r\n    const request = (url, data={}) => {\r\n        return new Promise  ((resolve, reject) => {\r\n            setLoader(true);\r\n            let options = {\r\n                method: method,\r\n                baseURL: config.api,\r\n                url,\r\n                data,\r\n            };\r\n\r\n            if (formData) {\r\n                options.headers = {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            }\r\n\r\n            axios(options).then(res => {\r\n                setLoader(false);\r\n                resolve(res);\r\n            }).catch(err => {\r\n                setLoader(false);\r\n                reject(processErrors(err));\r\n            })\r\n        });\r\n    };\r\n\r\n    return {\r\n        loader, request\r\n    }\r\n};\r\nexport default useHttp;\r\n","import React from 'react';\r\nimport {PropTypes} from \"prop-types\";\r\nimport {Info} from \"@material-ui/icons\";\r\n\r\nconst Alert = ({message, type, children, show }) => {\r\n\r\n    if(show)\r\n        return (\r\n            <div className={\"alert outline \"+type.toLowerCase()}>\r\n                <Info style={{marginRight: 5}}/>\r\n                <div>\r\n                    {message}\r\n                </div>\r\n            </div>);\r\n    else return (<></>);\r\n};\r\n\r\nAlert.propTypes = {\r\n    message: PropTypes.string,\r\n    type: PropTypes.string,\r\n    show: PropTypes.bool\r\n};\r\n\r\nAlert.defaultProps = {\r\n    type: 'err',\r\n    show: false\r\n};\r\n\r\nexport default Alert;\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n\r\n    setSession({ token }) {\r\n        localStorage.setItem('token',token);\r\n    },\r\n\r\n    clearSession() {\r\n        if(localStorage.getItem('token')) {\r\n            localStorage.removeItem('token');\r\n        }\r\n    },\r\n\r\n    getToken() {\r\n        return (localStorage.getItem('token') === undefined ? null : localStorage.getItem('token'));\r\n    },\r\n\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Container, TextField, Typography, Button, CssBaseline, Avatar, Paper, LinearProgress} from \"@material-ui/core\";\r\nimport useHttp from \"../utils/useHttp\";\r\nimport Alert from \"../components/_partials/Alert\";\r\nimport userService from '../config/session';\r\nimport {toast} from \"react-toastify\";\r\nimport {LOGIN_REDIRECT} from \"../config/urls\";\r\n\r\nconst Login = ({ history, setUser }) => {\r\n    const [data, setData] = useState({username: '', password: ''});\r\n    const login = useHttp();\r\n    const user = useHttp('get');\r\n\r\n\r\n    const [err, setErr] = useState(null);\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        setErr(null);\r\n        login.request('/login', data).then(res => {\r\n\r\n            if(res.access_token) {\r\n                userService.setSession({token: res.access_token});\r\n\r\n                user.request('/user').then(res => {\r\n                    login.loader = user.loader;\r\n                    if(res){\r\n                        history.push(LOGIN_REDIRECT);\r\n                    } else {\r\n                        toast.error('Algo ha salido mal, comuníquese con soporte');\r\n                        localStorage.removeItem('token');\r\n                    }\r\n                }).finally(() => login.loader = user.loader);\r\n\r\n\r\n            } else setErr('No se ha podido iniciar, consulte con soporte');\r\n\r\n        }).catch(err => {\r\n            if(err)\r\n                setErr(err);\r\n            else\r\n                setErr('Error desconocido, comuniquese con soporte!');\r\n        })\r\n    };\r\n\r\n    const onChange = e => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        setData({\r\n            ...data,\r\n            [name]: value})\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(userService.getToken()) {\r\n            history.push(LOGIN_REDIRECT);\r\n        }\r\n    }, [history]);\r\n\r\n    return (\r\n        <>\r\n            <Container component=\"main\" maxWidth=\"sm\">\r\n                <CssBaseline />\r\n                <Paper className=\"form-login-content\">\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Iniciar sesión\r\n                    </Typography>\r\n                    <Avatar src=\"/img/logo.png\" sizes=\"100\"/>\r\n                    <form onSubmit={ e => onSubmit(e)} className=\"form-login\">\r\n\r\n                        {/*Username*/}\r\n                        <TextField variant=\"outlined\" margin=\"normal\"\r\n                                   value={data.username}\r\n                                   onChange={e => onChange(e)}\r\n                                   required fullWidth type=\"text\" label=\"Nombre de usuario\"\r\n                                   id=\"username\"\r\n                                   name=\"username\"\r\n                                   autoComplete=\"username\"\r\n                                   autoFocus/>\r\n\r\n                        {/*Password*/}\r\n                        <TextField variant=\"outlined\" margin=\"normal\"\r\n                                   value={data.password}\r\n                                   onChange={e => onChange(e)}\r\n                                   required fullWidth label=\"Contraseña\"\r\n                                   name=\"password\" type=\"password\"\r\n                                   id=\"password\"\r\n                                   autoComplete=\"current-password\"/>\r\n\r\n                        {/*Submit form*/}\r\n                        <Alert message={err} show={err!==null}/>\r\n                        { login.loader && <LinearProgress color=\"secondary\" />}\r\n                        <p><b>Usuario: </b> admin | <b>Contraseña:</b> admin</p>\r\n                        <Button\r\n                            disabled={login.loader}\r\n                            type=\"submit\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\">\r\n                            Iniciar\r\n                        </Button>\r\n                    </form>\r\n                </Paper>\r\n            </Container>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport {Avatar, Card, CardContent, CardHeader, CardMedia, Typography, CardActions, Button} from \"@material-ui/core\";\r\nimport PropTypes from 'prop-types';\r\nimport {asset} from \"../../config/config\";\r\nconst CardAnimal = ({ animal }) => {\r\n\r\n    return (\r\n\r\n        <Card>\r\n            <CardHeader\r\n                avatar={\r\n                    <Avatar aria-label=\"recipe\">\r\n                        {animal.name.toString().slice(0, 1)}\r\n                    </Avatar>\r\n                }\r\n                title={animal.name}\r\n                subheader={animal.science_name}\r\n            />\r\n\r\n            <CardMedia\r\n                style={{height: 170}}\r\n                image={asset(animal.img)}\r\n                title={animal.name}\r\n            />\r\n            <CardContent>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" >\r\n                    { animal.description }\r\n                </Typography>\r\n            </CardContent>\r\n\r\n            {/*<CardActions>*/}\r\n            {/*    <Button size=\"small\" color=\"primary\">*/}\r\n            {/*        Leer más*/}\r\n            {/*    </Button>*/}\r\n            {/*</CardActions>*/}\r\n        </Card>\r\n    );\r\n};\r\n\r\nCardAnimal.propTypes = {\r\n    animal: PropTypes.object.isRequired\r\n};\r\n\r\nexport default CardAnimal;\r\n","import React, {useState} from 'react';\r\nimport {Search, Close} from \"@material-ui/icons\";\r\nimport PropTypes from 'prop-types';\r\nimport {Link} from \"react-router-dom\";\r\nimport {SupervisedUserCircle} from '@material-ui/icons';\r\nimport {ANIMAL_LIST, HOME} from \"../../config/urls\";\r\nconst Nav = ({onSearch}) => {\r\n\r\n    const [search, setSearch] = useState('');\r\n    \r\n    const onChange = (e) => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        setSearch(value);\r\n        if (value.trim() === '') {\r\n            onSearch('');\r\n        }\r\n    };\r\n\r\n    const onSubmitSearch = (e) => {\r\n        e.preventDefault();\r\n        onSearch(search);\r\n        openSearch();\r\n    }\r\n\r\n    const openSearch = () => {\r\n        document.getElementById('formSearch').classList.toggle('active');\r\n        document.getElementById('txtSearch').focus();\r\n    }\r\n\r\n    return (\r\n        <nav className={'home-nav'}>\r\n            <Link to={HOME} className={'logo'}>\r\n                <img src=\"/img/logo.png\" alt=\"Logo ZooApp\"/>\r\n                ZooApp\r\n            </Link>\r\n            <div className={'left-nav'}>\r\n                <form onSubmit={(e) => onSubmitSearch(e)} id={'formSearch'}>\r\n                    <input type=\"search\" autoFocus id={'txtSearch'}\r\n                           placeholder={'Buscar'}\r\n                           onChange={e => onChange(e)}/>\r\n                    <button type={'submit'}>\r\n                        <Search />\r\n                    </button>\r\n                    <button type={'button'} className={'color-red'} id={'closeSearch'} onClick={() => openSearch()}>\r\n                        <Close />\r\n                    </button>\r\n                </form>\r\n                <button type={'submit'} className={'open-search'} onClick={() => openSearch()}>\r\n                    <Search />\r\n                </button>\r\n                <Link className={'btnAdmin'} to={ANIMAL_LIST}><SupervisedUserCircle />Administrar</Link>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nNav.propTypes = {\r\n    onSearch: PropTypes.func,\r\n};\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\nimport {CircularProgress, Paper} from \"@material-ui/core\";\r\nimport PropTypes from 'prop-types';\r\nconst WithLoader = ({ children, loader, text, elevation }) => {\r\n    return (\r\n        <>\r\n            {\r\n                loader === true\r\n                    ? <Paper elevation={elevation} className=\"loader-container\"> <CircularProgress color=\"secondary\"/> <p>{text}</p> </Paper>\r\n                    : children\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nWithLoader.propTypes = {\r\n    text: PropTypes.string,\r\n    loader: PropTypes.bool.isRequired\r\n};\r\n\r\nWithLoader.defaultProps = {\r\n    text: 'Cargando...',\r\n    loader: false,\r\n    elevation: 2\r\n};\r\n\r\nexport default WithLoader;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Button, Container, Grid} from \"@material-ui/core\";\r\nimport CardAnimal from \"../components/home/CardAnimals\";\r\nimport Nav from \"../components/home/Nav\";\r\nimport Alert from \"../components/_partials/Alert\";\r\nimport Axios from \"axios\";\r\nimport {toast} from \"react-toastify\";\r\nimport {processErrors} from \"../utils/utils\";\r\nimport WithLoader from \"../components/_partials/hoc/WithLoader\";\r\n\r\nconst Home = () => {\r\n    // data\r\n    const [animals, setAnimals] = useState([]);\r\n\r\n    const [loader, setLoader] = useState(true);\r\n    const [filters, setFilters] = useState({\r\n        limit: 12,\r\n        search: '',\r\n        page: 1,\r\n        count: 0\r\n    });\r\n\r\n    // getting animals\r\n    useEffect(() => {\r\n        const getAnimals = () => {\r\n            let url = `/animals?limit=${filters.limit}&page=${filters.page}`;\r\n            if (filters.search) {\r\n                url+=`&search=${filters.search}`;\r\n            }\r\n            setLoader(true);\r\n            Axios.get(url).then(res => {\r\n                if(res.ok) {\r\n                    res.data.forEach(el => {\r\n                        setAnimals(animals => animals.concat(el))\r\n                    })\r\n                    filters.count = res.total;\r\n                }\r\n            })\r\n                .catch(err => toast.error(processErrors(err)))\r\n                .finally(() => setLoader(false))\r\n        };\r\n        getAnimals();\r\n    }, [filters]);\r\n\r\n    // getting more\r\n    const getMore = () => {\r\n        setFilters({...filters, page: filters.page+1})\r\n        setTimeout(() => {\r\n            window.scrollTo(0,document.body.scrollHeight + 100);\r\n        }, 200)\r\n    };\r\n\r\n    const search = (query) => {\r\n        setLoader(true);\r\n        setAnimals([]);\r\n        setFilters({...filters, search: query, page: 1, count: 0});\r\n    }\r\n\r\n    // render template\r\n    return (\r\n        <div className={'content-home'}>\r\n            <Nav onSearch={(q) => search(q)} />\r\n            <Container maxWidth=\"md\" >\r\n                {/*<WithLoader loader={loader} elevation={0} text={'Obteniendo información del Zoológico'}>*/}\r\n                    <Grid container spacing={2}>\r\n                        {\r\n                            animals.map(a => {\r\n                                return <Grid item xs={12} md={3} lg={4} key={a.id}>\r\n                                    <CardAnimal animal={a} />\r\n                                </Grid>\r\n                            })\r\n                        }\r\n                        {\r\n                            animals.length <= 0 && !loader && <Grid item xs={12}>\r\n                                <Alert show className={'text-muted'} message={'No hay animales para mostrar'} />\r\n                            </Grid>\r\n                        }\r\n\r\n                            <Grid item xs={12} className={'center'}>\r\n                                <WithLoader loader={loader} elevation={0}>\r\n                                {\r\n                                    animals.length > 0 && filters.search === '' && filters.count > animals.length &&\r\n                                        <Button onClick={()=>getMore()} variant={\"contained\"} color={'primary'}>Ver más</Button>\r\n                                }\r\n                                </WithLoader>\r\n                            </Grid>\r\n\r\n                    </Grid>\r\n                {/*</WithLoader>*/}\r\n\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport {Container, Divider, IconButton, Menu, MenuItem} from \"@material-ui/core\";\r\nimport {Menu as Men} from '@material-ui/icons'\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\nimport {ANIMAL_ADD, ANIMAL_LIST, HOME} from \"../config/urls\";\r\nimport userService from '../config/session';\r\n\r\n\r\nconst Admin = ({ children, history }) => {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const logout = () => {\r\n        userService.clearSession();\r\n        history.push(HOME);\r\n    };\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={'home-nav'}>\r\n                <Link to={HOME} className={'logo'}>\r\n                    <img src=\"/img/logo.png\" alt=\"Logo ZooApp\"/>\r\n                    ZooApp\r\n                </Link>\r\n                <div>\r\n                    <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} >\r\n                        <Men />\r\n                    </IconButton>\r\n                    <Menu\r\n                        id=\"simple-menu\"\r\n                        anchorEl={anchorEl}\r\n                        keepMounted\r\n                        open={Boolean(anchorEl)}\r\n                        onClose={handleClose}>\r\n                        <MenuItem component={NavLink} to={HOME} exact>Inicio</MenuItem>\r\n                        <MenuItem component={NavLink} to={ANIMAL_LIST} exact>Listar Animales</MenuItem>\r\n                        <MenuItem component={NavLink} to={ANIMAL_ADD} exact>Crear Animal</MenuItem>\r\n                        <MenuItem onClick={() => logout()}>Cerrar sesión</MenuItem>\r\n                    </Menu>\r\n                </div>\r\n            </div>\r\n            <Container maxWidth=\"md\">\r\n                <div  className={'container'}>\r\n                    {children}\r\n                </div>\r\n            </Container>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(Admin);\r\n","import React, {useState} from 'react';\r\nimport useHttp from \"../../utils/useHttp\";\r\nimport {Grid, TextField, Button, LinearProgress} from \"@material-ui/core\";\r\nimport {Photo} from '@material-ui/icons'\r\nimport {toast} from \"react-toastify\";\r\nimport {asset} from \"../../config/config\";\r\n\r\nconst FrmAnimal = ({method, url, initialData, history}) => {\r\n\r\n    const http = useHttp(method);\r\n    const photo = useHttp('post');\r\n    const [data, setData] = useState(initialData);\r\n\r\n    const onChange = (e) => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        setData({\r\n            ...data,\r\n            [name]: value});\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!validate()) return;\r\n\r\n        let body;\r\n        if (method === 'post') {\r\n            body = new FormData();\r\n            body.append('name', data.name);\r\n            body.append('science_name', data.science_name);\r\n            body.append('description', data.description);\r\n            body.append('img',data.localImg);\r\n        } else {\r\n            body = data;\r\n        }\r\n\r\n        http.request(url, body).then(res => {\r\n            if(res.ok) {\r\n                toast.success('Animal guardado con éxito');\r\n                if (method === 'post') {\r\n                    setData({\r\n                        name: '',\r\n                        science_name:'',\r\n                        description: '',\r\n                        img: null\r\n                    })\r\n                }\r\n            }\r\n        }).catch(err =>{\r\n            toast.error(err);\r\n        })\r\n    };\r\n\r\n    const validate = () => {\r\n        if (!data.name || !data.science_name) {\r\n            toast.error('El nombre y nombre científico son requeridos');\r\n            return false;\r\n        }\r\n\r\n        if (!data.description) {\r\n            toast.error('La descripción es requerida')\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    // process img\r\n    const changeImg = (file) => {\r\n        if (method==='put') {\r\n            let body = new FormData();\r\n            body.append('img',file);\r\n            photo.request(`/animals/img/${data.id}`, body).then(res => {\r\n                if (res.ok) {\r\n                    toast.success('Imagen cambiada con éxito');\r\n                }\r\n            }).catch(err=>toast.error(err));\r\n        }\r\n    }\r\n\r\n    const onChangeFile = e => {\r\n        if(e.target.files.length > 0) {\r\n\r\n            setData({\r\n                ...data,\r\n                localImg: e.target.files[0],\r\n                showImage: URL.createObjectURL(e.target.files[0])\r\n            })\r\n            changeImg(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={(e) => onSubmit(e)}>\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12} sm={6}>\r\n                    {/*Nombre*/}\r\n                    <TextField type='text' label='Nombre'\r\n                               name='name' variant={'outlined'}\r\n                               onChange={e => onChange(e)}\r\n                               value={data.name.toUpperCase()}\r\n                               inputProps={{ maxLength: 75 }}\r\n                               required fullWidth autoFocus/>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                    {/*Nombre científico*/}\r\n                    <TextField type='text' label='Nombre cientifico'\r\n                               name='science_name' variant={'outlined'}\r\n                               onChange={e => onChange(e)}\r\n                               inputProps={{ maxLength: 50 }}\r\n                               value={data.science_name}\r\n                               fullWidth />\r\n                </Grid>\r\n                {/*Descripción*/}\r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                        id=\"description\"\r\n                        label=\"Detalle | Descripción\"\r\n                        multiline\r\n                        variant={'outlined'}\r\n                        rows=\"3\"\r\n                        fullWidth\r\n                        inputProps={{ maxLength: 200 }}\r\n                        name='description'\r\n                        onChange={e => onChange(e)}\r\n                        value={data.description}\r\n                    />\r\n                </Grid>\r\n\r\n                {/*Imagen*/}\r\n                <Grid item xs={12} sm={12} style={{justifyContent: 'center', display: 'flex', flexDirection: 'column'}}>\r\n                    {\r\n                        data.showImage &&\r\n                        <>\r\n                            <div style={{padding: 10, display: 'flex', justifyContent: 'center'}}>\r\n                                <img src={data.showImage} alt=\"Preview\" height=\"200px\"/>\r\n                            </div>\r\n                            <Button variant={'outlined'}\r\n                                    onClick={() => setData({...data, showImage: null, localImg: null})}\r\n                                    color={'secondary'}>Quitar Imagen</Button>\r\n                        </>\r\n                    }\r\n                    {\r\n                        method === 'put' && data.img && !data.showImage &&\r\n                        <div style={{padding: 10, display: 'flex', justifyContent: 'center'}}>\r\n                            <img src={asset(data.img)} alt=\"Preview\" height=\"200px\"/>\r\n                        </div>\r\n                    }\r\n\r\n                    {!data.showImage &&\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        component=\"label\"\r\n                        color={'primary'}>\r\n                        <Photo/>&nbsp;\r\n                        { method==='post' ? 'Agregar' : 'Cambiar'} Imagen\r\n                        <input\r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            style={{ display: \"none\" }}\r\n                            onChange={(e) => onChangeFile(e)}\r\n                        />\r\n                    </Button> }\r\n                </Grid>\r\n\r\n                {/*Submit form*/}\r\n                <Grid item xs={12} className='center'>\r\n                    { http.loader && <LinearProgress color=\"secondary\" />}\r\n                    <br/>\r\n                    <Button type='submit' color='primary'\r\n                            disabled={http.loader}\r\n                            variant='contained'>\r\n                        { method === 'post' ? 'Guardar' : 'Actualizar'}\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </form>\r\n    );\r\n};\r\n\r\n\r\nFrmAnimal.defaultProps = {\r\n    method: 'post',\r\n    url: 'animals',\r\n    initialData: {\r\n        name: 'León',\r\n        science_name: 'Panthera leo',\r\n        description: 'El león es un mamífero carnívoro de la familia de los félidos y una de las cinco especies del género Panthera',\r\n        img: ''\r\n    }\r\n};\r\n\r\n\r\nexport default FrmAnimal;\r\n","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {IconButton} from \"@material-ui/core\";\r\nimport {ArrowBack} from \"@material-ui/icons\";\r\n\r\nconst BackBtn = () => {\r\n    let history = useHistory();\r\n    return (\r\n            <div><IconButton onClick={() => history.goBack()}><ArrowBack /></IconButton></div>\r\n    );\r\n};\r\n\r\nexport default BackBtn;\r\n","import React from 'react';\r\nimport {Divider, Paper} from \"@material-ui/core\";\r\nimport Admin from \"../../pages/Admin\";\r\nimport FrmAnimal from \"./FrmAnimal\";\r\nimport BackBtn from \"../_partials/BackBtn\";\r\n\r\nconst CreateAnimal = () => {\r\n    return (\r\n        <>\r\n            <Admin>\r\n                <Paper className='paper-content'>\r\n                    <div className='paper-header'>\r\n                        <BackBtn />\r\n                        <h4>NUEVO ANIMAL</h4>\r\n                    </div>\r\n                    <Divider />\r\n                    <FrmAnimal method={'post'} />\r\n                </Paper>\r\n            </Admin>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CreateAnimal;\r\n","import React, {useState} from 'react';\r\nimport {IconButton, TextField} from \"@material-ui/core\";\r\nimport {ANIMAL_ADD} from \"../../../config/urls\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Add, Search} from \"@material-ui/icons\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nconst HeadTable = ({onSearch}) => {\r\n    const [search, setSearch] = useState('');\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSearch(search);\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        setSearch(e.target.value);\r\n        if (e.target.value.trim() === '') {\r\n            onSearch('');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={'header-table'}>\r\n            <div className={'title'}>\r\n                <h3>ANIMALES</h3>\r\n                <IconButton component={Link} to={ANIMAL_ADD} color={'primary'}>\r\n                    <Add />\r\n                </IconButton>\r\n            </div>\r\n            <form onSubmit={(e) => onSubmit(e)} >\r\n                <TextField placeholder={'Buscar por: Nombre'} variant={'outlined'} margin={'dense'}\r\n                           InputProps={{\r\n                               endAdornment: (\r\n                                   <InputAdornment position=\"end\">\r\n                                       <Search />\r\n                                   </InputAdornment>\r\n                               ),\r\n                           }}\r\n                           onChange={e => onChange(e)} />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HeadTable;\r\n","import React from 'react';\r\nimport {Dialog, DialogActions, DialogTitle, DialogContent, DialogContentText, Button} from \"@material-ui/core\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst DlgConfirm = ({onClose, onConfirm, open, title, desc, loader}) => {\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    {desc}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={onClose} color=\"primary\">\r\n                    Cancelar\r\n                </Button>\r\n                <Button color=\"secondary\" onClick={onConfirm} disabled={loader}>\r\n                    {loader ? 'Espere...': 'Aceptar'}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\nDlgConfirm.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    onConfirm: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    title: PropTypes.string,\r\n    desc: PropTypes.string,\r\n    loader: PropTypes.bool\r\n};\r\nDlgConfirm.defaultProps = {\r\n    title: 'Confirmar',\r\n    desc: '¿Esta seguro que desea realizar esta acción?',\r\n    loader: false\r\n};\r\nexport default DlgConfirm;\r\n","import React from 'react';\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport {Divider, IconButton, Tooltip} from \"@material-ui/core\";\r\nimport {Delete, Edit, Photo} from \"@material-ui/icons\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport {asset} from \"../../../config/config\";\r\nimport {ANIMAL_EDIT, toName} from \"../../../config/urls\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst ItemAnimal = ({animal, onDelete}) => {\r\n\r\n    return (\r\n        <>\r\n            <ListItem>\r\n                <ListItemAvatar>\r\n                    <Avatar src={asset(animal.img)} />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    primary={animal.name}\r\n                    secondary={animal.science_name}\r\n                />\r\n                <ListItemSecondaryAction>\r\n                    <IconButton edge=\"end\" aria-label=\"delete\"\r\n                                onClick={onDelete}\r\n                                className={'color-red'}>\r\n                        <Delete />\r\n                    </IconButton>\r\n                    <IconButton edge=\"end\" aria-label=\"delete\"\r\n                                component={Link}\r\n                                to={toName(ANIMAL_EDIT, {id: animal.id})}\r\n                                className={'color-info'}>\r\n                        <Edit />\r\n                    </IconButton>\r\n                    <Tooltip title={'Ver fotografía'}>\r\n                        <IconButton href={asset(animal.img)}\r\n                                    target={'_blank'}\r\n                                    size={\"small\"}\r\n                                    className={'secondary'}\r\n                                    aria-label=\"Ver imagen\">\r\n                            <Photo />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </ListItemSecondaryAction>\r\n            </ListItem>\r\n            <Divider variant=\"inset\" component=\"li\" />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ItemAnimal;\r\n","import { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport config from \"../config/config\";\r\nconst useGet = (url) => {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loader, setLoader] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const get = (url) =>{\r\n        setLoader(true);\r\n        axios.get(url)\r\n            .then(res => {\r\n                if(res.ok) {\r\n                    setData(res.data);\r\n                }\r\n                setLoader(false);\r\n            }).catch(err => {\r\n            if(err.response && err.response.data){\r\n                setError(err.response.data);\r\n            } else setError(err);\r\n            setLoader(false);\r\n            console.log(\"URL PATH \",config.api+url);\r\n        });\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        get(url);\r\n\r\n    }, [url]);\r\n\r\n    return {\r\n        loader, error, data, setData, get\r\n    }\r\n};\r\nexport default useGet;\r\n","import {ANIMAL_ADD, ANIMAL_EDIT, ANIMAL_LIST, HOME, LOGIN} from \"./urls\";\r\nimport Login from \"../pages/Login\";\r\nimport Home from \"../pages/Home\";\r\nimport CreateAnimal from \"../components/animals/CreateAnimal\";\r\nimport ListAnimal from \"../components/animals/ListAnimal\";\r\nimport EditAnimal from \"../components/animals/EditAnimal\";\r\n\r\nexport const routes = [\r\n    {\r\n        path: HOME,\r\n        name: 'home',\r\n        exact: true,\r\n        private: false,\r\n        component: Home\r\n    },\r\n    {\r\n        path: LOGIN,\r\n        name: 'login',\r\n        exact: true,\r\n        private: false,\r\n        component: Login\r\n    },\r\n    // admin\r\n    {\r\n        path: ANIMAL_LIST,\r\n        name: 'listAnimal',\r\n        exact: true,\r\n        private: true,\r\n        component: ListAnimal\r\n    },\r\n    {\r\n        path: ANIMAL_ADD,\r\n        name: 'AddAnimal',\r\n        exact: true,\r\n        private: true,\r\n        component: CreateAnimal\r\n    },\r\n    {\r\n        path: ANIMAL_EDIT,\r\n        name: 'editAnimal',\r\n        exact: true,\r\n        private: true,\r\n        component: EditAnimal\r\n    }\r\n]\r\n","import React, {useEffect, useState} from 'react';\r\nimport Admin from \"../../pages/Admin\";\r\nimport useHttp from \"../../utils/useHttp\";\r\nimport {List} from \"@material-ui/core\";\r\nimport WithLoader from \"../_partials/hoc/WithLoader\";\r\nimport {Pagination} from \"@material-ui/lab\";\r\n\r\nimport HeadTable from \"./_partials/HeadTable\";\r\nimport DlgConfirm from \"../_partials/dialogs/DlgConfirm\";\r\nimport {toast} from \"react-toastify\";\r\nimport ItemAnimal from \"./_partials/ItemAnimal\";\r\nimport Axios from \"axios\";\r\nimport {processErrors} from \"../../utils/utils\";\r\n\r\nconst ListAnimal = () => {\r\n    //const animals = useGet('/animals');\r\n    const [animals, setAnimals] = useState({\r\n        data: [],\r\n        count: 0\r\n    });\r\n    const search = useHttp('get');\r\n    const remove = useHttp('delete');\r\n\r\n    const [selectAnimal, setSelectAnimal] = useState(null);\r\n    const [confirm, setConfirm] = useState(false);\r\n\r\n\r\n    const [page, setPage] = useState(1);\r\n    const [loader, setLoader] = useState(true);\r\n\r\n    // http methods\r\n    useEffect(() => {\r\n        const getAnimals = () => {\r\n            let url = `/animals?limit=${15}&page=${page}`;\r\n            setLoader(true);\r\n            Axios.get(url).then(res => {\r\n                if(res.ok) {\r\n                    setAnimals({data: res.data, count: res.total});\r\n                }\r\n            })\r\n                .catch(err => toast.error(processErrors(err)))\r\n                .finally(() => setLoader(false));\r\n        };\r\n        getAnimals();\r\n    }, [page]);\r\n\r\n    const onSearch = (searchText) => {\r\n        const url = `/animals?search=${searchText}&limit=15`;\r\n        search.request(url).then(res => {\r\n            if (res.ok) {\r\n                setAnimals({...animals, data: res.data})\r\n            }\r\n        });\r\n    };\r\n\r\n    const deleteAnimal = () => {\r\n        remove.request(`/animals/${selectAnimal}`).then(res => {\r\n            console.log(res);\r\n            if(res.ok){\r\n                toast.success(res.data);\r\n                let index = animals.data.findIndex(d => d.id === selectAnimal);\r\n                animals.data.splice(index, 1);\r\n            }\r\n        }).catch(err => toast.error(err)).finally(() => {\r\n            setConfirm(false);\r\n            setSelectAnimal(null);\r\n        });\r\n    };\r\n\r\n    // others\r\n    const addSelectAnimal = (animalId) => {\r\n        setSelectAnimal(animalId);\r\n        setConfirm(true);\r\n    };\r\n\r\n\r\n    return (\r\n        <Admin>\r\n            <HeadTable onSearch={q => onSearch(q)} />\r\n            <WithLoader loader={loader || search.loader} elevation={0}>\r\n                <List>\r\n                    { animals.data.map(a => {\r\n                       return <ItemAnimal animal={a} key={a.id} onDelete={(e) => addSelectAnimal(a.id)}/>\r\n                    })}\r\n                </List>\r\n            </WithLoader>\r\n\r\n            { animals.data.length>0 && <Pagination\r\n                className=\"my-3\"\r\n                count={Math.ceil(animals.count / 15)}\r\n                page={page}\r\n                variant=\"outlined\"\r\n                shape=\"rounded\"\r\n                onChange={(e, val) => setPage(val)}\r\n            />}\r\n\r\n            {\r\n                !loader && animals.data.length <= 0 && <div className={'text-mutted p-1'}>No existen animales</div>\r\n            }\r\n\r\n            <DlgConfirm onConfirm={ () => deleteAnimal()}\r\n                        open={confirm}\r\n                        loader={remove.loader}\r\n                        onClose={() => setConfirm(false)}\r\n                        desc={'¿Estas seguro que desea eliminar este animal?'}\r\n                        title={`Marcar al animal ${selectAnimal} como eliminado`} />\r\n        </Admin>\r\n    );\r\n};\r\n\r\n\r\nexport default ListAnimal;\r\n","import React from 'react';\r\nimport Admin from \"../../pages/Admin\";\r\nimport useGet from \"../../utils/useGet\";\r\nimport WithLoader from \"../_partials/hoc/WithLoader\";\r\nimport {Divider, Paper} from \"@material-ui/core\";\r\nimport FrmAnimal from \"./FrmAnimal\";\r\nimport BackBtn from \"../_partials/BackBtn\";\r\n\r\n\r\nconst EditAnimal = ({match}) => {\r\n    const id = match.params.id;\r\n\r\n    const animals = useGet(`/animals/${id}`);\r\n    return (\r\n        <Admin>\r\n            <WithLoader loader={animals.loader} text={'Cargando datos del animal...'}>\r\n                <Paper className='paper-content'>\r\n                    <div className='paper-header'>\r\n                        <BackBtn />\r\n                        <h4> EDITAR ANIMAL</h4>\r\n                    </div>\r\n                    <Divider className={'mb-1'} />\r\n                    {\r\n                        animals.data.name !== undefined &&\r\n                        <FrmAnimal method={'put'} url={`/animals/${id}`}\r\n                                   initialData={animals.data}/>\r\n                    }\r\n                </Paper>\r\n            </WithLoader>\r\n        </Admin>\r\n    );\r\n};\r\n\r\nexport default EditAnimal;\r\n","import React from 'react'\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\nimport userService from '../../config/session';\r\n\r\nconst Protected = ({component: Component,...rest}) => {\r\n\r\n    if (userService.getToken()) {\r\n        return <Route component={Component}  {...rest}/>\r\n    }\r\n    //return <Route component={Component}  {...rest}/>\r\n    return <Redirect to=\"/login\"/>\r\n\r\n};\r\n\r\nexport {Protected};\r\n","import Axios from \"axios\";\r\nimport userService from '../../config/session'\r\nimport config from \"../../config/config\";\r\nimport {NOT_CONNECTED} from \"../../config/urls\";\r\n\r\n\r\nAxios.defaults.baseURL = config.api;\r\n\r\nAxios.interceptors.response.use(function (response) {\r\n\r\n    if(response.data.data!==null){\r\n\r\n        return response.data;\r\n    } else {\r\n\r\n        return  response;\r\n    }\r\n}, function (error) {\r\n\r\n\r\n    if (!error.status && !error.response) {\r\n        console.log('Sin conexión');\r\n        window.location.href = `${NOT_CONNECTED}`;\r\n        return;\r\n    }\r\n\r\n    const { response: { status }} = error;\r\n    if(status === 401) {\r\n        if(userService.getToken()) {\r\n            userService.clearSession();\r\n        }\r\n    }\r\n    return Promise.reject(error);\r\n});\r\n\r\nAxios.interceptors.request.use(function(config) {\r\n    const token = userService.getToken();\r\n    if ( token !== null ) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n}, function(err) {\r\n    return Promise.reject(err);\r\n});\r\n","import React from 'react';\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport {routes} from \"./config/routes\"\nimport {ThemeProvider} from '@material-ui/core/styles';\nimport {theme} from './config/config';\nimport {ToastContainer} from \"react-toastify\";\nimport {Protected} from \"./utils/auth\";\n\nimport './styles/app.scss';\n// app config\nfunction App() {\n  return (\n    <>\n      <ToastContainer position=\"bottom-right\" closeButton={false} hideProgressBar={true}/>\n      <ThemeProvider theme={theme}>\n          <Router>\n              <Switch>\n                  {\n                      routes.map(route => (\n                          !route.private ?\n                              <Route key={route.name} path={route.path}\n                                     routeDef={route} routes={routes}\n                                     component={route.component} exact={!!route.exact }/> :\n                              <Protected key={route.name} path={route.path}\n                                         routeDef={route} routes={routes}\n                                         component={route.component} exact={!!route.exact }/>\n                      ))\n                  }\n              </Switch>\n          </Router>\n      </ThemeProvider >\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}